
<html>

<head>
    <title>BF1网页战绩检索小例子</title>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <link href="https://cdn.bootcdn.net/ajax/libs/twitter-bootstrap/5.0.2/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.bootcdn.net/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1">

<script type="text/javascript">

    function loadDoc() {
        var input=document.getElementById("myId");
        var xhttp = new XMLHttpRequest();
        var txtjson, prcjson;
        document.getElementById("result").innerHTML = "请稍后...";
        xhttp.onreadystatechange = function() {
        if (this.readyState == 4 && this.status == 200) {
            txtjson = this.responseText;
            prcjson = JSON.parse(txtjson);
            //document.getElementById("result").innerHTML = prcjson.servers[0].prefix;
            document.getElementById("result").innerHTML = txtjson;
            } else if (this.readyState == 4 && this.status == 403){document.getElementById("result").innerHTML = "查无此人<br>";}
        };
        xhttp.open("POST", "https://api.k-0n.org/bf1/searchServer?name=Ryzen%2002", true);
		xhttp.setRequestHeader("Content-type", "application/json");
		xhttp.setRequestHeader("apikey", input);
        xhttp.send();
    }
</script>


</head>

<body>
    <div class="container" style="background-color:rgb(154, 176, 197); height: inherit;">
        <br>
        <input type="text" id="myId" placeholder="输入玩家EA ID"><input type="button" value="搜索" onClick="loadDoc()"/>
        <br><br><br>
        <p id="result">玩家战绩检索小例子 By neko<br>只是几分钟糊出来的，不代表最终样式和功能</p>
        <br><br><br>
    </div>
</body>
</html>
